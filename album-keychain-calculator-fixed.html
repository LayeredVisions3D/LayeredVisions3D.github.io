<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Event Photo Album Keychains — Price Calculator</title>
  <style>
    :root{
      --bg:#0f1221;
      --card:#171a2b;
      --ink:#e9ecff;
      --muted:#b7bdff;
      --accent:#7a86ff;
      --accent-2:#a7ffcb;
      --line:#2a2f4a;
      --good:#a7ffcb;
      --warn:#ffd166;
      --danger:#ff7b7b;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif}
    h1,h2,h3{margin:0 0 .5rem}
    a{color:var(--accent)}
    .wrap{max-width:980px;margin:24px auto;padding:0 16px 48px}
    .page-title{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:16px}
    .pill{background:linear-gradient(90deg, var(--accent), var(--accent-2));color:#101320;border:none;border-radius:999px;padding:8px 12px;font-weight:700}
    .grid{display:grid;grid-template-columns: 1.2fr .8fr;gap:16px}
    @media (max-width: 920px){ .grid{grid-template-columns:1fr} }
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px}
    .section{margin-bottom:14px}
    .section + .section{border-top:1px dashed var(--line);padding-top:14px}
    label{display:block;font-weight:600;margin:0 0 6px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .row > *{flex:1}
    .muted{color:var(--muted)}
    select, input[type="number"], input[type="text"], input[type="email"]{
      width:100%;background:#0b0e1a;color:var(--ink);
      border:1px solid var(--line);border-radius:10px;padding:10px 12px;
      outline:none;
    }
    input[type="radio"], input[type="checkbox"]{transform:scale(1.1)}
    .choices{display:grid;gap:10px}
    .choice{display:flex;gap:10px;align-items:flex-start;background:#0b0e1a;border:1px solid var(--line);border-radius:12px;padding:12px;position:relative;}
    .choice .meta{flex:1}
    .choice .price{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-weight:700;
      font-size:1.1rem;
      color:var(--accent);
      white-space:nowrap;
    }
    ul.bullets{margin:.35rem 0 .25rem 1.25rem}
    ul.bullets li{margin:.25rem 0}
    .i{
      display:inline-flex;justify-content:center;align-items:center;
      width:18px;height:18px;border-radius:50%;border:1px solid var(--muted);
      color:var(--muted);font-size:12px;line-height:1;cursor:pointer;position:relative;margin-left:6px;
      z-index:3;
    }
    .tooltip{
      position:absolute;inset:auto auto auto 100%;margin-left:8px;z-index:4;min-width:220px;
      background:#0b0e1a;border:1px solid var(--line);color:var(--ink);padding:10px;border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,.35);display:none
    }
    .i[data-open="1"] .tooltip{display:block}
    .totals{position:sticky;top:12px}
    .line{display:flex;justify-content:space-between;gap:8px;margin:8px 0}
    .line.total{font-size:1.25rem;font-weight:900;border-top:2px solid var(--line);padding-top:8px}
    .help{display:flex;gap:10px;align-items:center;margin-top:8px}
    .btn{display:inline-flex;align-items:center;gap:8px;background:transparent;border:1px solid var(--accent);color:var(--ink);padding:10px 12px;border-radius:10px;cursor:pointer}
    .btn.primary{background:var(--accent);color:#0b0e1a;border:none;font-weight:800}
    .note{font-size:.9rem;color:var(--muted)}
    .warn{color:var(--warn)}
    .danger{color:var(--danger)}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace}
  </style>
</head>
<body>
  <h1>Event Photo Album Keychains — Price Calculator (Fixed)</h1>
  <p>This is the fixed template. Replace the <code>form action</code> with your Formspree endpoint.</p>

  <script>
    /* === FIX: reliable ⓘ tooltips inside <label> === */
    (function setupInfoIcons(){
      const icons = document.querySelectorAll('.i');

      function closeAll(){
        icons.forEach(i => {
          i.removeAttribute('data-open');
          if (i.hasAttribute('aria-expanded')) i.setAttribute('aria-expanded','false');
        });
      }

      function toggle(icon){
        if (icon.getAttribute('data-open') === '1') {
          icon.removeAttribute('data-open');
          icon.setAttribute('aria-expanded','false');
        } else {
          closeAll();
          icon.setAttribute('data-open','1');
          icon.setAttribute('aria-expanded','true');
        }
      }

      document.addEventListener('click', (e) => {
        const icon = e.target.closest('.i');
        if (icon) {
          e.preventDefault();
          e.stopPropagation();
          toggle(icon);
        } else {
          closeAll();
        }
      }, true);

      icons.forEach(icon => {
        icon.setAttribute('role','button');
        icon.setAttribute('tabindex','0');
        icon.setAttribute('aria-expanded','false');
        icon.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            e.stopPropagation();
            toggle(icon);
          } else if (e.key === 'Escape') {
            e.preventDefault();
            e.stopPropagation();
            closeAll();
          }
        });
        const tip = icon.querySelector('.tooltip');
        if (tip) tip.addEventListener('click', (e)=> e.stopPropagation());
      });
    })();
  </script>
</body>
</html>
